<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú—ñ–Ω—ñ-–†–µ–¥–∞–∫—Ç–æ—Ä –ú–∞—Ç—Ä–∏—Ü—ñ –∑ –í–∏–±–æ—Ä–æ–º –†–æ–∑–º—ñ—Ä—É</title>
    <style>
        :root {
            --cell-size: 20px; 
            --grid-color: #444;
            --active-color: #000000;
            --inactive-color: #ffffff;
            --border-radius: 4px;
            --primary-color: #0056b3;
            --secondary-color: #28a745;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #f4f4f9;
            color: #333;
            min-height: 100vh; 
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 95%;
            max-width: 1400px;
            margin: 20px auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 20px;
        }

        .main-content {
            display: flex;
            gap: 30px;
            flex-wrap: nowrap;
            justify-content: space-between;
            align-items: flex-start;
        }

        .drawing-area {
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .matrix-container {
            border: 2px solid var(--grid-color);
            line-height: 0;
            display: inline-block;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            margin-bottom: 15px;
            /* –î–∏–Ω–∞–º—ñ—á–Ω–∞ –∑–º—ñ–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó —à–∏—Ä–∏–Ω–∏ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –º–∞—Ç—Ä–∏—Ü—å */
            max-width: calc(var(--cell-size) * 8 + 4px); 
        }

        .matrix-row {
            display: flex;
        }

        .cell {
            width: var(--cell-size);
            height: var(--cell-size);
            border: 1px solid #ddd;
            background-color: var(--inactive-color);
            cursor: pointer;
            transition: background-color 0.1s;
        }

        .cell.active {
            background-color: var(--active-color);
        }

        .controls-and-output {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            min-width: 500px;
        }

        .settings-controls, .frame-controls, .export-controls {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            background-color: #f9f9f9;
        }

        .setting-group {
            display: flex;
            gap: 15px;
            align-items: flex-end;
            margin-bottom: 15px;
        }

        .setting-input-pair label {
            display: block;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .setting-input-pair input {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: var(--border-radius);
            width: 60px;
            text-align: center;
        }

        .apply-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color 0.2s;
            font-weight: bold;
        }

        .apply-btn:hover {
            background-color: #004499;
        }
        
        .frame-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
            max-height: 100px;
            overflow-y: auto;
            padding-right: 5px;
        }

        .frame-button {
            padding: 6px 10px;
            border: 1px solid var(--primary-color);
            background-color: #e6f0ff;
            color: var(--primary-color);
            cursor: pointer;
            border-radius: var(--border-radius);
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            font-size: 0.9em;
        }

        .frame-button.active {
            background-color: var(--primary-color);
            color: white;
            font-weight: bold;
        }

        .delete-frame {
            margin-left: 8px;
            font-size: 1em;
        }

        .add-frame-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color 0.2s;
            font-weight: bold;
        }

        .add-frame-btn:hover {
            background-color: #218838;
        }

        .export-btn {
            background-color: #ffc107;
            color: #333;
            border: none;
            padding: 12px 20px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: background-color 0.2s;
            width: 100%;
        }

        .export-btn:hover {
            background-color: #e0a800;
        }

        textarea {
            width: 100%;
            height: 300px;
            margin-top: 15px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: var(--border-radius);
            box-sizing: border-box;
            font-family: 'Consolas', 'Monospace';
            background-color: #eee;
            color: #000;
            resize: vertical;
        }

        .info {
            margin-top: 15px;
            padding: 10px;
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            color: #856404;
            border-radius: var(--border-radius);
        }

        @media (max-width: 1000px) {
            .main-content {
                flex-direction: column;
            }
            .drawing-area {
                width: 100%;
            }
            .controls-and-output {
                min-width: unset;
                width: 100%;
            }
            .matrix-container {
                margin: 0 auto 15px auto;
            }
            .setting-group {
                justify-content: space-between;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>üé® –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π –†–µ–¥–∞–∫—Ç–æ—Ä –ú–∞—Ç—Ä–∏—Ü—ñ (Arduino)</h1>
        
        <div class="main-content">
            
            <div class="drawing-area">
                <p>–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è: <strong id="currentFrameName">–ö–∞–¥—Ä 1</strong></p>
                <div id="matrix" class="matrix-container">
                    </div>
                <div class="info" style="display: none;">
                    <p>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –∫–ª—ñ—Ç–∏–Ω–∫—É, —â–æ–± –∑–º—ñ–Ω–∏—Ç–∏ —ó—ó —Å—Ç–∞–Ω (1/0).</p>
                    <p>–ü–æ—Ç–æ—á–Ω–∏–π —Ä–æ–∑–º—ñ—Ä: <span id="currentSize">8x16</span>. –ú–∞—Å–∏–≤ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è —è–∫: `[–ö–∞–¥—Ä][–†—è–¥–æ–∫ (Y) * Cols + –°—Ç–æ–≤–ø–µ—Ü—å (X)]`.</p>
                </div>
            </div>

            <div class="controls-and-output">
                
                <div class="settings-controls">
                    <h3>‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –†–æ–∑–º—ñ—Ä—É –ú–∞—Ç—Ä–∏—Ü—ñ</h3>
                    <div class="setting-group">
                        <div class="setting-input-pair">
                            <label for="inputCols">–°—Ç–æ–≤–ø—Ü—ñ (X):</label>
                            <input type="number" id="inputCols" value="8" min="1" max="128">
                        </div>
                        <div class="setting-input-pair">
                            <label for="inputRows">–†—è–¥–∫–∏ (Y):</label>
                            <input type="number" id="inputRows" value="16" min="1" max="128">
                        </div>
                        <button id="applySizeBtn" class="apply-btn">–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏</button>
                    </div>
                    <small>–ó–º—ñ–Ω–∞ —Ä–æ–∑–º—ñ—Ä—É –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ—Ç–æ—á–Ω–∏—Ö –∫–∞–¥—Ä—ñ–≤.</small>
                </div>

                <div class="frame-controls">
                    <h3>üñºÔ∏è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ö–∞–¥—Ä–∞–º–∏</h3>
                    <div id="frameList" class="frame-list">
                        </div>
                    <button id="addFrameBtn" class="add-frame-btn">‚ûï –î–æ–¥–∞—Ç–∏ –ù–æ–≤–∏–π –ö–∞–¥—Ä</button>
                </div>

                <div class="export-controls">
                    <h3>üíª –ï–∫—Å–ø–æ—Ä—Ç –ö–æ–¥—É (C/C++) (<a href="https://wokwi.com/projects/450294095556349953"target="_blank" rel="noopener noreferrer"
                        >Wokwi –æ–Ω–ª–∞–π–Ω —Å–∏–º—É–ª—è—Ç–æ—Ä</a>)</h3>
                    <button id="exportCodeBtn" class="export-btn">üìã –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ö–æ–¥</button>
                    <textarea id="outputCode" readonly placeholder="–ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π –∫–æ–¥ –∑'—è–≤–∏—Ç—å—Å—è —Ç—É—Ç..."></textarea>
                </div>
            </div>
        </div>

    </div>

    <script>
        // –ó–º—ñ–Ω–Ω—ñ, —è–∫—ñ —Ç–µ–ø–µ—Ä –±—É–¥—É—Ç—å –¥–∏–Ω–∞–º—ñ—á–Ω–∏–º–∏
        let COLS = 8;
        let ROWS = 16;
        
        // DOM –ï–ª–µ–º–µ–Ω—Ç–∏
        const matrixContainer = document.getElementById('matrix');
        const frameListElement = document.getElementById('frameList');
        const addFrameBtn = document.getElementById('addFrameBtn');
        const exportCodeBtn = document.getElementById('exportCodeBtn');
        const outputCodeArea = document.getElementById('outputCode');
        const currentFrameName = document.getElementById('currentFrameName');
        const currentSizeDisplay = document.getElementById('currentSize');
        const inputCols = document.getElementById('inputCols');
        const inputRows = document.getElementById('inputRows');
        const applySizeBtn = document.getElementById('applySizeBtn');

        let animationData = []; 
        let currentFrameIndex = 0;

        // --- Core Matrix Logic ---

        /**
         * –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î –Ω–æ–≤—É –º–∞—Ç—Ä–∏—Ü—é –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É (ROWS x COLS) –±—ñ–ª–∏–º –∫–æ–ª—å–æ—Ä–æ–º (false).
         */
        function createNewFrame() {
            return Array(ROWS).fill(0).map(() => Array(COLS).fill(false));
        }

        /**
         * –û–Ω–æ–≤–ª—é—î –¥–∏—Å–ø–ª–µ–π —Ä–æ–∑–º—ñ—Ä—É —Ç–∞ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–∞—Ç—Ä–∏—Ü—ñ.
         */
        function renderMatrix() {
            matrixContainer.innerHTML = '';
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è CSS –∑–º—ñ–Ω–Ω–æ—ó –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
            matrixContainer.style.setProperty('--matrix-cols', COLS);
            matrixContainer.style.maxWidth = `calc(${COLS} * var(--cell-size) + 4px)`;

            currentFrameName.textContent = `–ö–∞–¥—Ä ${currentFrameIndex + 1}`;
            currentSizeDisplay.textContent = `${COLS}x${ROWS}`;
            
            const currentFrame = animationData[currentFrameIndex];

            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞, —á–∏ —ñ—Å–Ω—É—î –ø–æ—Ç–æ—á–Ω–∏–π –∫–∞–¥—Ä (–ø—ñ—Å–ª—è resize –≤—ñ–Ω –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º)
            if (!currentFrame || currentFrame.length !== ROWS || (currentFrame.length > 0 && currentFrame[0].length !== COLS)) {
                // –Ø–∫—â–æ —Ä–æ–∑–º—ñ—Ä –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î, —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –Ω–æ–≤–∏–π –∫–∞–¥—Ä
                animationData = [createNewFrame()];
                currentFrameIndex = 0;
                renderFrameList();
                renderMatrix();
                return;
            }

            // –ú–∞–ª—é–≤–∞–Ω–Ω—è –∫–ª—ñ—Ç–∏–Ω–æ–∫
            currentFrame.forEach((row, y) => {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'matrix-row';
                row.forEach((isActive, x) => {
                    const cell = document.createElement('div');
                    cell.className = `cell ${isActive ? 'active' : ''}`;
                    cell.dataset.x = x;
                    cell.dataset.y = y;
                    cell.addEventListener('mousedown', toggleCell); 
                    rowDiv.appendChild(cell);
                });
                matrixContainer.appendChild(rowDiv);
            });
        }

        /**
         * –û–±—Ä–æ–±–ª—è—î –∫–ª—ñ–∫ –ø–æ –∫–ª—ñ—Ç–∏–Ω—Ü—ñ –º–∞—Ç—Ä–∏—Ü—ñ.
         */
        function toggleCell(event) {
            const cell = event.target;
            const x = parseInt(cell.dataset.x);
            const y = parseInt(cell.dataset.y);

            const currentFrame = animationData[currentFrameIndex];
            currentFrame[y][x] = !currentFrame[y][x];

            cell.classList.toggle('active', currentFrame[y][x]);

            event.preventDefault();
        }

        // --- Frame Controls ---

        function switchFrame(index) {
            if (index >= 0 && index < animationData.length) {
                currentFrameIndex = index;
                renderFrameList(); 
                renderMatrix();    
            }
        }

        function addFrame() {
            animationData.push(createNewFrame());
            switchFrame(animationData.length - 1);
        }

        function deleteFrame(index) {
            if (animationData.length <= 1) {
                alert("–ù–µ –º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–π –∫–∞–¥—Ä!");
                return;
            }

            if (confirm(`–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ –ö–∞–¥—Ä ${index + 1}?`)) {
                animationData.splice(index, 1);
                
                if (currentFrameIndex >= animationData.length) {
                    currentFrameIndex = animationData.length - 1;
                }
                
                switchFrame(currentFrameIndex);
            }
        }

        function renderFrameList() {
            frameListElement.innerHTML = '';
            animationData.forEach((_, index) => {
                const button = document.createElement('button');
                button.className = `frame-button ${index === currentFrameIndex ? 'active' : ''}`;
                button.textContent = `–ö–∞–¥—Ä ${index + 1}`;
                button.onclick = () => switchFrame(index);

                if (animationData.length > 1) {
                    const deleteBtn = document.createElement('button');
                    deleteBtn.className = 'delete-frame';
                    deleteBtn.textContent = '‚úñ';
                    deleteBtn.onclick = (e) => {
                        e.stopPropagation(); 
                        deleteFrame(index);
                    };
                    button.appendChild(deleteBtn);
                }

                frameListElement.appendChild(button);
            });
        }

        // --- Resize Logic ---

        function applyNewSize() {
            const newCols = parseInt(inputCols.value);
            const newRows = parseInt(inputRows.value);

            if (isNaN(newCols) || isNaN(newRows) || newCols < 1 || newRows < 1) {
                alert("–í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏ (—Ü—ñ–ª—ñ —á–∏—Å–ª–∞ > 0).");
                return;
            }

            if (newCols === COLS && newRows === ROWS) return; // –ù—ñ—á–æ–≥–æ –Ω–µ –∑–º—ñ–Ω–∏–ª–æ—Å—è

            if (animationData.length > 1 || animationData[0].some(row => row.includes(true))) {
                if (!confirm(`–ó–º—ñ–Ω–∞ —Ä–æ–∑–º—ñ—Ä—É (${COLS}x${ROWS} -> ${newCols}x${newRows}) –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –°–¢–ò–†–ê–ù–ù–Ø –≤—Å—ñ—Ö –ø–æ—Ç–æ—á–Ω–∏—Ö –∫–∞–¥—Ä—ñ–≤. –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏?`)) {
                    // –°–∫–∞—Å—É–≤–∞—Ç–∏
                    inputCols.value = COLS;
                    inputRows.value = ROWS;
                    return;
                }
            }

            // –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ –Ω–æ–≤–∏–π —Ä–æ–∑–º—ñ—Ä
            COLS = newCols;
            ROWS = newRows;
            
            // –°–∫–∏–¥–∞—î–º–æ –∞–Ω—ñ–º–∞—Ü—ñ—é
            animationData = [createNewFrame()];
            currentFrameIndex = 0;
            
            renderFrameList();
            renderMatrix();
            outputCodeArea.value = ''; // –û—á–∏—â–∞—î–º–æ –∫–æ–¥
        }

        // --- Export Logic ---

        /**
         * –ì–µ–Ω–µ—Ä—É—î –∫–æ–¥ C/C++ –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ—ó —É –∫–æ–º–ø–∞–∫—Ç–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ (1/0, –±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å—ñ–≤ —Ä—è–¥–∫—ñ–≤).
         */
      /**
         * –ì–µ–Ω–µ—Ä—É—î –∫–æ–¥ C/C++ –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ—ó —É –¢–†–ò–í–ò–ú–Ü–†–ù–û–ú–£ —Ñ–æ—Ä–º–∞—Ç—ñ [–ö–∞–¥—Ä][–†—è–¥–æ–∫][–°—Ç–æ–≤–ø–µ—Ü—å] –∑ –∫–æ–º–ø–∞–∫—Ç–Ω–∏–º –∑–∞–ø–∏—Å–æ–º (1/0).
         */
        function generateCode() {
            const frameCount = animationData.length;
            
            // –ó–±–∏—Ä–∞—î–º–æ –¥–∞–Ω—ñ –¥–ª—è –≤—Å—ñ—Ö –∫–∞–¥—Ä—ñ–≤
            const allFrameData = [];

            animationData.forEach((frame, frameIndex) => {
                const frameRowsData = [];
                
                // –ü—Ä–æ—Ö–æ–¥–∏–º–æ –ø–æ –∫–æ–∂–Ω–æ–º—É —Ä—è–¥–∫—É (Y)
                frame.forEach((row, y) => {
                    // –ó–±–∏—Ä–∞—î–º–æ –¥–∞–Ω—ñ –ø–æ —Å—Ç–æ–≤–ø—Ü—è—Ö (X) —É –∫–æ–º–ø–∞–∫—Ç–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ 1/0
                    const rowValues = row.map(cell => cell ? '1' : '0').join(',');
                    
                    // –î–æ–¥–∞—î–º–æ —Ä—è–¥–æ–∫ –∑ –∫–æ–º–ø–∞–∫—Ç–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏
                    frameRowsData.push(`{${rowValues}}`); 
                });
                
                // –§–æ—Ä–º–∞—Ç—É—î–º–æ –¥–∞–Ω—ñ –∫–∞–¥—Ä—É –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ C-–º–∞—Å–∏–≤
                let frameBlock = '';
                frameBlock += `{`;
                frameBlock += frameRowsData.join(','); // –ö–æ–º–ø–∞–∫—Ç–Ω–µ –æ–±'—î–¥–Ω–∞–Ω–Ω—è —Ä—è–¥–∫—ñ–≤
                frameBlock += `}`;
                
                allFrameData.push(frameBlock);
            });

            // –ó–±–∏—Ä–∞—î–º–æ —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π —Ä—è–¥–æ–∫ –∫–æ–¥—É
            let code = '';
            code += '#include "GameBoy.h"\nGameBoy gb;\n\n';
            code += `const int FRAME_COUNT = ${frameCount};\n`;
            code += `const int MATRIX_ROWS = ${ROWS};\n`;
            code += `const int MATRIX_COLS = ${COLS};\n`;
            code += `bool animation[${frameCount}][${ROWS}][${COLS}] = {  // [–ö–∞–¥—Ä][–†—è–¥–æ–∫][–°—Ç–æ–≤–ø–µ—Ü—å]\n`;
            code += allFrameData.join(',\n'); 
            code += `\n};\n\n`;
            
            code += `void setup() {\n  gb.begin(0);\n}\n\n`;
            code += `// –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:\n`;
            code += `void loop() {\n`;
            code += `  for(int frame=0; frame < FRAME_COUNT; frame++) {\n`;
            code += `    for(int y=0; y < MATRIX_ROWS; y++) {\n`;
            code += `      for(int x=0; x < MATRIX_COLS; x++) {\n`;
            code += `        gb.setLed(x, y, animation[frame][y][x]); \n`;
            code += `      }\n`;
            code += `    }\n`;
            code += `    delay(200); // –ø–∞—É–∑–∞ –º—ñ–∂ –∫–∞–¥—Ä–∞–º–∏ \n`;
            code += `  }\n`;
            code += `}\n`;

            return code;
        }

        function copyCode() {
            const code = generateCode();
            outputCodeArea.value = code;
            outputCodeArea.select();
            
            try {
                document.execCommand('copy');
                exportCodeBtn.textContent = '‚úÖ –ö–æ–¥ –°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ!';
            } catch (err) {
                // Fallback to modern Clipboard API
                navigator.clipboard.writeText(code).then(() => {
                    exportCodeBtn.textContent = '‚úÖ –ö–æ–¥ –°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ!';
                }).catch(err => {
                    exportCodeBtn.textContent = '‚ùå –ü–æ–º–∏–ª–∫–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è!';
                    console.error('–ü–æ–º–∏–ª–∫–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è:', err);
                });
            }

            setTimeout(() => {
                exportCodeBtn.textContent = 'üìã –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ö–æ–¥';
            }, 2000);
        }

        // --- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –û–±—Ä–æ–±–Ω–∏–∫–∏ –ü–æ–¥—ñ–π ---

        // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –ø–æ—á–∞—Ç–∫–æ–≤—ñ –∑–Ω–∞—á–µ–Ω–Ω—è
        inputCols.value = COLS;
        inputRows.value = ROWS;
        
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω
        animationData.push(createNewFrame()); 
        renderMatrix();
        renderFrameList();

        // –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π
        addFrameBtn.addEventListener('click', addFrame);
        exportCodeBtn.addEventListener('click', copyCode);
        applySizeBtn.addEventListener('click', applyNewSize);

    </script>
</body>
</html>